<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<exportmultiplex category="Template" ref_path="workflow_data[Internal]/storable[workflow_data]/storable[Data]">
   <list classname="java.util.ArrayList" name="Comments"/>
   <storable name="Execution Config" storable-id="dr.WorkflowExecutionConfig" ver="10.0">
      <enum name="debugType" storable-id="dr.DebugType" value="EVENT"/>
      <storable name="executionSettings" storable-id="dr.ExecutionSettings" ver="11.0">
         <boolean name="enabled" value="false"/>
         <storable name="kafka" null="true"/>
      </storable>
      <int name="noOfFilesToKeep" value="0"/>
      <string name="throughputMIM" null="true"/>
      <string name="txnHandler" value="Default Handler"/>
   </storable>
   <list classname="java.util.ArrayList" name="Field Types">
      <storable name="0" storable-id="dr.WorkflowData$FieldAndType" ver="1.3">
         <string name="Exported Alias" value=""/>
         <string name="Exported Description" value=""/>
         <string name="Field Name" value="Http2 - Port"/>
         <enum name="Field Type" storable-id="dr.DRFieldInstanceType" value="INSTANCE"/>
         <int name="Node Id" value="608952228"/>
         <string name="Node Name" value="HTTP2_Server_1"/>
      </storable>
   </list>
   <list classname="java.util.ArrayList" name="Logged error MIM"/>
   <list classname="java.util.ArrayList" name="Nodes">
      <storable name="0" storable-id="dr.WfNode" ver="2.0">
         <string name="Classname"><![CDATA[com.digitalroute.http2.server.agent.Http2ServerInsp]]></string>
         <array classname="com.digitalroute.wf.WfNodeConfig" name="Configuration" size="1">
            <storable name="0" storable-id="dr.WfNodeConfig" ver="1.0">
               <string name="Classname"><![CDATA[com.digitalroute.http2.server.agent.Http2ServerInsp]]></string>
               <storable name="Data" storable-id="dr.HTTP2ServerData" ver="12.1">
                  <enum classname="com.digitalroute.http2.server.auth.AuthLevel" name="authLevel" value="NONE"/>
                  <string name="authPublicKey" null="true"/>
                  <int name="averagePeriod" value="10"/>
                  <string name="characterEncoding" value="UTF-8"/>
                  <int name="clientTimeout" value="10"/>
                  <boolean name="enableTooManyRequests" value="true"/>
                  <int name="gzipLevel" value="7"/>
                  <string name="host" value="192.168.2.100"/>
                  <boolean name="isTwoWayAuth" value="false"/>
                  <int name="maxConcurrentStreams" value="500"/>
                  <int name="numberOfRequests" value="1000"/>
                  <int name="port" value="8094"/>
                  <boolean name="routeToApl" value="false"/>
                  <storable name="securityProfile" null="true"/>
                  <int name="serverTimeout" value="0"/>
                  <list classname="java.util.ArrayList" name="strategies">
                     <storable name="0" storable-id="dr.HTTP2.OpenAPI" ver="10.4">
                        <storable name="configuration" null="true"/>
                        <string name="contentType429" value="application/problem+json"/>
                        <string name="contentType503" value="application/problem+json"/>
                        <list classname="java.util.ArrayList" name="openApiProfileList">
                           <storable name="0" storable-id="dr.DRConfiguration" ver="2.0">
                              <set name="Dynamic Parameters" null="true"/>
                              <string name="Folder" value="SAPCM-SEPT25_RT_OPEN-API"/>
                              <string name="Key" value="DR1762596431375"/>
                              <string name="Name" value="PRF_OPEN_API_TODO"/>
                              <string name="Type" value="Open API Profile"/>
                           </storable>
                        </list>
                        <boolean name="overrideError429" value="false"/>
                        <boolean name="overrideError503" value="false"/>
                        <int name="statusCode429" value="429"/>
                        <int name="statusCode503" value="503"/>
                        <list name="udrFieldsMap429" null="true"/>
                        <list name="udrFieldsMap503" null="true"/>
                        <storable name="udrTypeIdentifier429" null="true"/>
                        <storable name="udrTypeIdentifier503" null="true"/>
                        <boolean name="useOpenApi" value="true"/>
                        <boolean name="validate" value="false"/>
                     </storable>
                     <storable name="1" storable-id="dr.HTTP2.Support5G" ver="10.4">
                        <storable name="configuration" null="true"/>
                        <boolean name="enableFallBack" value="false"/>
                        <boolean name="enableRegistrationRetry" value="false"/>
                        <string name="nrfAddress" null="true"/>
                        <array classname="java.lang.String" name="nrfAddresses" size="0"/>
                        <int name="numberOfRegistrationRetry" value="0"/>
                        <list classname="java.util.ArrayList" name="openApiProfileList"/>
                        <array name="secondaryAddress" null="true"/>
                        <array classname="java.lang.String" name="secondaryAddressList" size="0"/>
                        <int name="timeIntervalForRegistrationRetry" value="0"/>
                        <boolean name="use5g" value="false"/>
                     </storable>
                  </list>
                  <storable name="udrType" null="true"/>
                  <boolean name="useSSL" value="false"/>
                  <int name="waitDuration" value="10"/>
               </storable>
            </storable>
         </array>
         <string name="Name" value="HTTP2_Server_1"/>
      </storable>
      <storable name="1" storable-id="dr.WfNode" ver="2.0">
         <string name="Classname" value="com.digitalroute.wfc.analysis.AnalysisRealtimeInsp"/>
         <array classname="com.digitalroute.wf.WfNodeConfig" name="Configuration" size="1">
            <storable name="0" storable-id="dr.WfNodeConfig" ver="1.0">
               <string name="Classname" value="com.digitalroute.wfc.analysis.AnalysisRealtimeInsp"/>
               <storable name="Data" storable-id="dr.StuffyMapperData" ver="10.0">
                  <string name="sourceCode"><![CDATA[import ultra.SAPCMMay25_API.UFL_Http_Test;
consume {
    //debug(input);
    
    //bytearray to string
    
    string strContent = baToStr(input.body);
    debug("string content:"+strContent);
    //string to udr
     
    data d = udrCreate(data);
    debug("Before decode:"+d);
    jsonDecodeUdr(strContent,d);
    debug("After decode:"+d);
    
    input.response = udrCreate(Response);
    input.response.body = "Hello "+d.name+" ! How was your day?";
    
    input.response.statusCode = 200;
    debug(input);
    udrRoute(input);
}]]></string>
                  <array classname="com.digitalroute.devkit.drudr.DRTypeInfo" name="udrTypes" size="1">
                     <storable name="0" storable-id="dr.DRTypeInfo" ver="1.0">
                        <string name="TypeName" value="http.RequestCycle"/>
                     </storable>
                  </array>
               </storable>
            </storable>
         </array>
         <string name="Name" value="Analysis_1"/>
      </storable>
   </list>
   <storable name="Persistent" storable-id="dr.WorkflowPersistentConfig" ver="10.0">
      <string name="persistentInspector" null="true"/>
      <storable name="persistentStorageConfig" null="true"/>
      <string name="persistentTimeoutHandler" null="true"/>
   </storable>
   <list classname="java.util.ArrayList" name="Routes">
      <storable name="0" storable-id="dr.WfRoute" ver="2.0">
         <string name="Name" value="r_1"/>
         <int name="Realtime mode" value="0"/>
      </storable>
      <storable name="1" storable-id="dr.WfRoute" ver="2.0">
         <string name="Name" value="r_3"/>
         <int name="Realtime mode" value="0"/>
      </storable>
   </list>
   <list classname="java.util.ArrayList" name="Service"/>
   <boolean name="Template Valid" value="true"/>
   <storable name="Thread data" storable-id="dr.WorkflowExecutionRealtimeConfig" ver="10.0">
      <int name="countInterval" value="1"/>
      <int name="queueSize" value="1000"/>
      <string name="queueStrategy" value="Blocking queue"/>
      <string name="queueWorkerStrategy" value="RoundRobin"/>
      <boolean name="standalone" value="false"/>
      <int name="threads" value="8"/>
   </storable>
</exportmultiplex>
